# Ember-cli-test-recorder
This records the ways you interact with an Ember application, and then generates the code to playback these actions and 
 test results in an acceptance test. The idea is to save you time writing these tests by hand.
 
You should only add this component to your app when your app behaves as
expected (happy flow) as then you will have the tests generated for expected behaviour

###Current UI interactions that are recorded for acceptance tests:

* Button clicks, they also generate andThen code blocks. 
* Text input fill ins. 
* Record any changes to route
* Changes in DOM additions/removals, only items with ID's are recorded and that don't have the doNotRecord css class.

##Usage

To install run

```
ember install ember-cli-test-recorder
```

To use this, simply include this line of code someone in your app, I recommend in your `app.js`:

```js
import main from 'ember-cli-test-recorder/main';// jshint ignore:line
```
Note: we use jshint ignore:line as we don't actually do anything with the main object, it sets everything up by itself


If an element doesn't have an id then a dom path selector will be generated to click on this buttonin a test, ie
```js
click("html>body>div>div:eq(0)>button");
andThen(function () {
 equal(find("#foo").length, 0, "foo removed AFTER user [INSERT REASON]");
});

```
If you don't want an element to be recorded, and any of its children add this class to it `doNotRecord`

##TIPS

Avoid making multiple button clicks (or other interactions that cause asynchronous) updates until DOM has 
finished updating. This will allow code generated by the mutations observer to be placed in the in the
generated code. This happens outside of the ember run loop.


## Roadmap
* Allow selects to be automated
* Allow more complex click actions like the steps to click on inputs like select2 to be recorded
* Ignore clicks on ember elements with no effect
* Get mutations to work with async effects
* Separate out recording to its own library and just use ember adapters for code test style

## Installation

* `git clone` this repository
* `npm install`
* `bower install`

## Running

* `ember server`
* Visit your app at http://localhost:4200.

## Running Tests

* `ember test`
* `ember test --server`

## Building

* `ember build`

For more information on using ember-cli, visit [http://www.ember-cli.com/](http://www.ember-cli.com/).

